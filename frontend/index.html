

<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8"/>
  <title>Eira's Quest</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel" data-presets="react">
    const { useState } = React;

    function App() {
      const quest = {
        locations: [
          "start", "loc_1", "loc_2", "loc_3", "loc_4", "loc_5", "loc_6", "loc_7", 
          "crystal_caverns", "start_branch1", "start_branch2", "start_branch3", 
          "loc_1_branch1", "loc_1_branch2", "loc_1_branch3", "loc_2_branch1", 
          "loc_3_branch1", "loc_4_branch1", "loc_5_branch1", "loc_5_branch2", 
          "loc_6_branch1", "loc_6_branch2", "loc_6_branch3", "loc_7_branch1", 
          "loc_7_branch2"
        ],
        obstacles: { "crystal_caverns": "golem" },
        connections: [
          ["start", "loc_1"], ["start", "start_branch1"], ["start", "start_branch2"], ["start", "start_branch3"],
          ["loc_1", "loc_2"], ["loc_1", "loc_1_branch1"], ["loc_1", "loc_1_branch2"], ["loc_1", "loc_1_branch3"],
          ["loc_2", "loc_3"], ["loc_2", "loc_2_branch1"], ["loc_3", "loc_4"], ["loc_3", "loc_3_branch1"],
          ["loc_4", "loc_5"], ["loc_4", "loc_4_branch1"], ["loc_5", "loc_6"], ["loc_5", "loc_5_branch1"], ["loc_5", "loc_5_branch2"],
          ["loc_6", "loc_7"], ["loc_6", "loc_6_branch1"], ["loc_6", "loc_6_branch2"], ["loc_6", "loc_6_branch3"],
          ["loc_7", "crystal_caverns"], ["loc_7", "loc_7_branch1"], ["loc_7", "loc_7_branch2"],
          // Reverse connections
          ["loc_1", "start"], ["start_branch1", "start"], ["start_branch2", "start"], ["start_branch3", "start"],
          ["loc_2", "loc_1"], ["loc_1_branch1", "loc_1"], ["loc_1_branch2", "loc_1"], ["loc_1_branch3", "loc_1"],
          ["loc_3", "loc_2"], ["loc_2_branch1", "loc_2"], ["loc_4", "loc_3"], ["loc_3_branch1", "loc_3"],
          ["loc_5", "loc_4"], ["loc_4_branch1", "loc_4"], ["loc_6", "loc_5"], ["loc_5_branch1", "loc_5"], ["loc_5_branch2", "loc_5"],
          ["loc_7", "loc_6"], ["loc_6_branch1", "loc_6"], ["loc_6_branch2", "loc_6"], ["loc_6_branch3", "loc_6"],
          ["crystal_caverns", "loc_7"], ["loc_7_branch1", "loc_7"], ["loc_7_branch2", "loc_7"]
        ],
        initial_location: "start"
      };

      const [currentLocation, setCurrentLocation] = useState(quest.initial_location);
      const [defeatedObstacles, setDefeatedObstacles] = useState([]);
      
      const getConnectedLocations = () => {
        return quest.connections
          .filter(([from]) => from === currentLocation)
          .map(([, to]) => to);
      };

      const handleMove = (location) => {
        setCurrentLocation(location);
      };

      const handleDefeat = () => {
        setDefeatedObstacles([...defeatedObstacles, "golem"]);
      };

      const isGoalAchieved = currentLocation === "crystal_caverns" && defeatedObstacles.includes("golem");

      return (
        <div className="p-8 max-w-2xl mx-auto">
          <h1 className="text-3xl font-bold mb-4">Eira's Quest</h1>
          
          <div className="mb-6 prose">
            <p>In the realm of Eridoria, where the sun dipped into the horizon and painted the sky with hues of crimson and gold, the village of Brindlemark lay nestled between the rolling hills. It was here that our hero, Eira Shadowglow, dwelled. A skilled warrior-mage with a heart full of determination and a spirit unbroken by adversity.</p>
            {/* ... truncated for brevity ... */}
            <p>The journey was far from over, but Eira's determination and unyielding spirit had overcome the first great obstacle on her path to shattering the Dark Crystal and bringing hope back to the people of Eridoria.</p>
          </div>

          <div className="mb-4 p-4 bg-gray-100 rounded">
            <h2 className="text-xl font-semibold mb-2">Current Location: {currentLocation.replace(/_/g, ' ')}</h2>
            
            {quest.obstacles[currentLocation] && !defeatedObstacles.includes(quest.obstacles[currentLocation]) ? (
              <div className="mt-4">
                <p className="mb-2">A massive stone golem blocks your path!</p>
                <button 
                  onClick={handleDefeat}
                  className="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"
                >
                  Defeat Golem
                </button>
              </div>
            ) : (
              <div>
                <h3 className="font-medium mb-2">Available Paths:</h3>
                <div className="flex flex-wrap gap-2">
                  {getConnectedLocations().map(location => (
                    <button
                      key={location}
                      onClick={() => handleMove(location)}
                      className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                    >
                      Go to {location.replace(/_/g, ' ')}
                    </button>
                  ))}
                </div>
              </div>
            )}
          </div>

          {isGoalAchieved && (
            <div className="mt-6 p-4 bg-green-100 rounded text-green-800">
              <h2 className="text-2xl font-bold">Victory!</h2>
              <p>You've reached the Crystal Caverns and defeated the golem!</p>
            </div>
          )}
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
